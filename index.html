<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Photobooth - DEBUG MODE</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; min-height: 100vh; margin: 0; padding: 0; background: #f3f4f6; overflow-x: hidden; }
    #debugConsole {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1a1a1a;
      color: #00ff00;
      padding: 15px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 9999;
      border-top: 3px solid #00ff00;
    }
    .debug-line { margin-bottom: 5px; padding: 3px; }
    .debug-success { color: #00ff00; }
    .debug-error { color: #ff0000; }
    .debug-warning { color: #ffaa00; }
    .debug-info { color: #00aaff; }
  </style>
</head>
<body>

<div id="debugConsole">
  <div style="display: flex; justify-content: space-between; margin-bottom: 10px; border-bottom: 1px solid #00ff00; padding-bottom: 5px;">
    <strong style="color: #00ff00;">ğŸ› CONSOLE DE DÃ‰BOGAGE</strong>
    <button onclick="clearDebug()" style="background: #ff0000; color: white; padding: 2px 10px; border: none; cursor: pointer; border-radius: 3px;">Effacer</button>
  </div>
  <div id="debugLog"></div>
</div>

<div id="login" class="flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-900 to-purple-900">
  <div class="bg-white p-10 rounded-2xl shadow-2xl text-center max-w-md w-full mx-4">
    <h1 class="text-4xl font-bold text-blue-900 mb-8">ğŸ‰ Photobooth DEBUG</h1>
    <p class="text-xs text-red-600 font-bold mb-4">ğŸ› MODE DEBUG ACTIVÃ‰ - VÃ©rifiez la console en bas</p>
    <input id="password" type="password" class="w-full p-4 border-2 rounded-lg text-xl mb-2 focus:outline-none focus:border-blue-500" placeholder="Mot de passe">
    <div class="flex items-center mb-4">
      <input type="checkbox" id="showPassword" class="w-5 h-5 mr-3 cursor-pointer">
      <label for="showPassword" class="text-base text-gray-700 cursor-pointer select-none">Afficher le mot de passe</label>
    </div>
    <button id="loginBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-bold text-xl transition">Se connecter</button>
    <div class="mt-4 p-3 bg-yellow-50 border border-yellow-300 rounded text-left text-sm">
      <p class="font-bold text-yellow-800">Mot de passe attendu :</p>
      <p class="font-mono text-gray-700">amax</p>
    </div>
  </div>
</div>

<div id="app" class="hidden">
  <h1 style="text-align:center; padding: 20px; background: #4CAF50; color: white;">âœ… CONNEXION RÃ‰USSIE - Application chargÃ©e</h1>
</div>

<script>
const PASSWORD = "amax";

function debugLog(message, type) {
  type = type || 'info';
  const log = document.getElementById('debugLog');
  const time = new Date().toLocaleTimeString();
  const colors = {
    success: 'debug-success',
    error: 'debug-error',
    warning: 'debug-warning',
    info: 'debug-info'
  };
  const line = document.createElement('div');
  line.className = 'debug-line ' + (colors[type] || 'debug-info');
  line.textContent = '[' + time + '] ' + message;
  log.appendChild(line);
  log.scrollTop = log.scrollHeight;
  console.log('[DEBUG ' + type.toUpperCase() + '] ' + message);
}

function clearDebug() {
  document.getElementById('debugLog').innerHTML = '';
  debugLog('Console effacÃ©e', 'info');
}

debugLog('ğŸš€ Application dÃ©marrÃ©e', 'success');
debugLog('ğŸ”‘ Mot de passe attendu: "' + PASSWORD + '"', 'info');

document.addEventListener('DOMContentLoaded', function() {
  debugLog('ğŸ“± DOM chargÃ©', 'info');
  
  document.getElementById('showPassword').addEventListener('change', function() {
    document.getElementById('password').type = this.checked ? 'text' : 'password';
    debugLog('ğŸ‘ï¸ Affichage mot de passe: ' + (this.checked ? 'ON' : 'OFF'), 'info');
  });
  
  document.getElementById('password').addEventListener('input', function(e) {
    debugLog('âŒ¨ï¸ Saisie: "' + e.target.value + '" (longueur: ' + e.target.value.length + ')', 'info');
  });
  
  document.getElementById('loginBtn').addEventListener('click', function() {
    const pass = document.getElementById('password').value;
    debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'warning');
    debugLog('ğŸ” TENTATIVE DE CONNEXION', 'warning');
    debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'warning');
    debugLog('Mot de passe saisi: "' + pass + '"', 'warning');
    debugLog('Mot de passe attendu: "' + PASSWORD + '"', 'warning');
    debugLog('Longueur saisie: ' + pass.length, 'warning');
    debugLog('Longueur attendue: ' + PASSWORD.length, 'warning');
    debugLog('Type saisie: ' + typeof pass, 'warning');
    debugLog('Type attendu: ' + typeof PASSWORD, 'warning');
    debugLog('Ã‰galitÃ© stricte (===): ' + (pass === PASSWORD), 'warning');
    debugLog('Ã‰galitÃ© simple (==): ' + (pass == PASSWORD), 'warning');
    
    // Test caractÃ¨re par caractÃ¨re
    for (var i = 0; i < Math.max(pass.length, PASSWORD.length); i++) {
      var c1 = pass[i] || '(vide)';
      var c2 = PASSWORD[i] || '(vide)';
      var match = c1 === c2 ? 'âœ“' : 'âœ—';
      debugLog('Position ' + i + ': "' + c1 + '" vs "' + c2 + '" ' + match, c1 === c2 ? 'success' : 'error');
    }
    
    if (pass === PASSWORD) {
      debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'success');
      debugLog('âœ… MOT DE PASSE CORRECT !', 'success');
      debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'success');
      document.getElementById('login').classList.add('hidden');
      document.getElementById('app').classList.remove('hidden');
    } else {
      debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'error');
      debugLog('âŒ MOT DE PASSE INCORRECT', 'error');
      debugLog('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'error');
      alert('MOT DE PASSE INCORRECT ! VÃ©rifiez la console de debug en bas.');
    }
  });
  
  document.getElementById('password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      debugLog('â Touche EntrÃ©e dÃ©tectÃ©e', 'info');
      document.getElementById('loginBtn').click();
    }
  });
  
  debugLog('âœ… Tous les Ã©vÃ©nements initialisÃ©s', 'success');
  debugLog('ğŸ’¡ Tapez votre mot de passe et observez la console', 'info');
});
</script>
</body>
</html>
